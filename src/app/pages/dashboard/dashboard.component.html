<div class="dashboard-container fade-in">
  
  <header class="page-header">
    <div>
      <h1>Visão Geral</h1>
      <p>Resumo de desempenho da barbearia</p>
    </div>
    <button class="btn-report">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
      Baixar Relatório
    </button>
  </header>

  <section class="kpi-grid">
    <div class="kpi-card" *ngFor="let item of kpis" [class]="item.color">
      <div class="kpi-icon">
        <ng-container [ngSwitch]="item.icon">
          <svg *ngSwitchCase="'calendar'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
          <svg *ngSwitchCase="'users'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
          <svg *ngSwitchCase="'money'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
          <svg *ngSwitchCase="'cancel'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>
        </ng-container>
      </div>
      <div class="kpi-info">
        <span class="label">{{ item.title }}</span>
        <h3 class="value">{{ item.value }}</h3>
        <span class="change" [class.negative]="item.change.includes('-')">
          {{ item.change }} <span class="period">vs. mês anterior</span>
        </span>
      </div>
    </div>
  </section>

  <section class="content-grid">
    
    <div class="card chart-section">
      <div class="card-header">
        <h3>Receita por Período</h3>
        <select class="period-select">
          <option>Últimos 7 dias</option>
          <option>Este Mês</option>
        </select>
      </div>
      <div class="chart-container">
        <div class="css-chart">
          <div class="bar" *ngFor="let val of revenueData" [style.height.%]="val"></div>
        </div>
        <div class="chart-labels">
          <span>Seg</span><span>Ter</span><span>Qua</span><span>Qui</span><span>Sex</span><span>Sáb</span><span>Dom</span>
        </div>
      </div>
    </div>

    <div class="card services-section">
      <div class="card-header">
        <h3>Top Serviços</h3>
        <a href="javascript:void(0)" class="view-all">Ver tudo</a>
      </div>
      
      <div class="services-list">
        <div class="service-item" *ngFor="let service of topServices; let i = index">
          <div class="rank">{{ i + 1 }}</div>
          <div class="details">
            <div class="info">
              <span class="name">{{ service.name }}</span>
              <span class="count">{{ service.count }} cortes</span>
            </div>
            <div class="progress-bg">
              <div class="progress-bar" [style.width.%]="service.percent"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </section>
</div>